# kg CLI Command Reference (As Built)

**Documentation Status:** This is an "as built" documentation of the CLI structure as it currently exists. Generated by systematically exploring `kg --help` and all subcommands.

**Purpose:** Document the actual CLI tree structure to inform potential refactoring and serve as a comprehensive reference guide.

## Command Line Interface

```
kg [options] [command]
```

Knowledge Graph CLI - interact with the knowledge graph API

## Global Options

| Option | Description |
|--------|-------------|
| `-V, --version` | Output the version number |
| `--api-url <url>` | API base URL |
| `--client-id <id>` | Client ID for multi-tenancy |
| `--api-key <key>` | API key for authentication |
| `-h, --help` | Display help for command |

## Command Categories

### Core Operations

These are the primary command groups for working with the knowledge graph:

| Command | Aliases | Description | Doc Path |
|---------|---------|-------------|----------|
| `health` | - | Check API server health | [health/](./health/) |
| `config` | `cfg` | Manage kg CLI configuration | [config/](./config/) |
| `ingest` | - | Ingest documents into the knowledge graph | [ingest/](./ingest/) |
| `job` | `jobs` | Manage and monitor ingestion jobs | [job/](./job/) |
| `search` | - | Search for concepts and explore the graph | [search/](./search/) |
| `database` | `db` | Database operations and information | [database/](./database/) |
| `ontology` | `onto` | Manage ontologies (knowledge domains) | [ontology/](./ontology/) |
| `vocabulary` | `vocab` | Edge vocabulary management and consolidation (ADR-032) | [vocabulary/](./vocabulary/) |

### System Administration

| Command | Description | Doc Path |
|---------|-------------|----------|
| `admin` | System administration (status, backup, restore, reset, scheduler, user, rbac, embedding, extraction, keys, regenerate-embeddings) | [admin/](./admin/) |

### Authentication

| Command | Description | Doc Path |
|---------|-------------|----------|
| `login` | Authenticate with username and password | [auth/](./auth/#login) |
| `logout` | End authentication session | [auth/](./auth/#logout) |

### Unix-Style Shortcuts

Convenience commands that mirror common Unix CLI patterns:

| Command | Aliases | Description | Doc Path |
|---------|---------|-------------|----------|
| `ls` | - | List resources (Unix-style shortcut) | [shortcuts/](./shortcuts/#ls) |
| `stat` | - | Show status or statistics (Unix-style shortcut) | [shortcuts/](./shortcuts/#stat) |
| `rm` | - | Remove or delete resources (Unix-style shortcut) | [shortcuts/](./shortcuts/#rm) |
| `cat` | `bat` | Display resource details (Unix-style shortcut) | [shortcuts/](./shortcuts/#cat) |

## Command Tree Structure

```
kg
├── health
├── config (cfg)
│   └── [subcommands to be documented]
├── ingest
│   └── [subcommands to be documented]
├── job (jobs)
│   └── [subcommands to be documented]
├── search
│   └── [subcommands to be documented]
├── database (db)
│   └── [subcommands to be documented]
├── ontology (onto)
│   └── [subcommands to be documented]
├── vocabulary (vocab)
│   └── [subcommands to be documented]
├── admin
│   ├── status
│   ├── backup
│   ├── restore
│   ├── reset
│   ├── scheduler
│   ├── user
│   ├── rbac
│   ├── embedding
│   ├── extraction
│   ├── keys
│   └── regenerate-embeddings
├── login
├── logout
├── ls <resource>
├── stat <resource> [id]
├── rm <resource> <id>
└── cat (bat) <resource> [id]
```

## Documentation Structure

Each command or command group has its own directory with a README.md file:

- **README.md**: Documents commands at that level
- **subdirectories/**: For commands with subcommands, organized by command hierarchy

## Next Steps

After completing the "as built" documentation, we will:
1. Review the overall structure
2. Identify inconsistencies or usability issues
3. Propose refactoring to improve CLI UX
4. Potentially align API and worker structures with CLI improvements

## Related Documentation

- [Main Documentation Index](../../README.md)
- [Getting Started Guide](../01-getting-started/)
- [User Manual](../)
